{
  "metadata": {
    "version": "0.1.0",
    "description": "Fallback regex patterns reconstructed from data/properties",
    "source": "data/properties"
  },
  "defaults": {
    "normalizers": [
      "strip",
      "collapse_spaces"
    ],
    "flags": [
      "IGNORECASE",
      "MULTILINE"
    ]
  },
  "patterns": [
    {
      "property_id": "marchio",
      "regex": [
        "(?:marchio|brand|produttore)[:\\s]+(?P<value>[A-Z0-9][\\w\\-&/ ]{2,})",
        "(?<![A-Za-zÀ-ÿ0-9])(?P<value>[A-Z][A-Za-z0-9&\\-]{2,}(?:\\s+[A-Z][A-Za-z0-9&\\-]{2,}){0,2})(?![a-zà-ÿ])"
      ],
      "normalizers": [
        "strip",
        "collapse_spaces"
      ]
    },
    {
      "property_id": "tipologia_lastra",
      "regex": [
        "(?:tipologia(?:\\s+di)?\\s+lastra|tipo\\s+lastra)[:\\s]+(?P<value>[A-Za-zÀ-ÿ\\s_-]{3,})",
        "(?P<value>standard|idrofuga|ignifuga|acustica|fibrogesso|accoppiata\\s*isolante)"
      ],
      "normalizers": [
        "strip",
        "collapse_spaces",
        "lower"
      ]
    },
    {
      "property_id": "spessore_mm",
      "regex": [
        "(?:spessore|thickness)[:\\s]+(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>mm|millimetri|cm|centimetri|m|metri)?",
        "(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>mm|millimetri|cm|centimetri|m|metri)"
      ],
      "normalizers": [
        "to_mm"
      ]
    },
    {
      "property_id": "classe_ei",
      "regex": [
        "(?:classe\\s*ei|ei)[:\\s]*(?P<value>EI\\s*\\d{1,3})",
        "(?P<value>EI\\s*\\d{1,3})"
      ],
      "normalizers": [
        "normalize_ei"
      ]
    },
    {
      "property_id": "classe_reazione_al_fuoco",
      "regex": [
        "(?:reazione\\s+al\\s+fuoco|classe\\s+di\\s+reazione)[:\\s]*(?P<value>[A-F][^\\s,;:]{0,6})",
        "(?P<value>[A-F][0-3]?(?:-s\\d(?:,d\\d)?)?)"
      ],
      "normalizers": [
        "normalize_fire_reaction"
      ]
    },
    {
      "property_id": "presenza_isolante",
      "regex": [
        "(?:presenza\\s+isolante|isolante)[:\\s]+(?P<value>s[iì]|no)"
      ],
      "normalizers": [
        "to_bool_strict"
      ]
    },
    {
      "property_id": "stratigrafia_lastre",
      "regex": [
        "stratigrafia[:\\s]+(?P<value>[^\\n]+)",
        "composizione[:\\s]+(?P<value>[^\\n]+)"
      ],
      "normalizers": [
        "strip",
        "collapse_spaces"
      ]
    },
    {
      "property_id": "materiale",
      "regex": [
        "(?:materiale|materiali)[:\\s]+(?P<value>[A-Za-zÀ-ÿ0-9\\s\\-_/]+)",
        "in\\s+(?P<value>legno|acciaio|alluminio|gesso|cartongesso|ceramica|pvc|vetroresina|lana\\s*di\\s*roccia)"
      ],
      "normalizers": [
        "strip",
        "collapse_spaces",
        "lower"
      ]
    },
    {
      "property_id": "finitura",
      "regex": [
        "finitura[:\\s]+(?P<value>[^\\n;,]+)"
      ],
      "normalizers": [
        "strip",
        "collapse_spaces"
      ]
    },
    {
      "property_id": "posa",
      "regex": [
        "posa[:\\s]+(?P<value>[^\\n;,]+)"
      ],
      "normalizers": [
        "strip",
        "collapse_spaces"
      ]
    },
    {
      "property_id": "formato",
      "regex": [
        "(?:formato|dimensioni?)[:\\s]+(?P<value>\\d+(?:[.,]\\d+)?\\s*[x×]\\s*\\d+(?:[.,]\\d+)?(?:\\s*[x×]\\s*\\d+(?:[.,]\\d+)?)?)(?:\\s*(?P<unit>mm|cm|m))?"
      ],
      "normalizers": [
        "normalize_format"
      ]
    },
    {
      "property_id": "classe_resistenza_usura",
      "regex": [
        "(?:classe\\s+resistenza\\s+usura|classe\\s+di\\s+usura|pei)[:\\s]*(?P<value>(?:pei\\s*)?[ivx0-9]{1,3})",
        "(?P<value>PEI\\s*[IVX0-5])"
      ],
      "normalizers": [
        "normalize_pei"
      ]
    },
    {
      "property_id": "classe_scivolosita",
      "regex": [
        "(?:classe\\s+scivolosità|antiscivolo|scivolosità)[:\\s]*(?P<value>[A-Z]{1,2}\\d{0,2}(?:-?R\\d{1,2})?)",
        "(?P<value>R\\d{9})",
        "(?P<value>R\\d{1,2})"
      ],
      "normalizers": [
        "normalize_slip_class"
      ]
    },
    {
      "property_id": "materiale_struttura",
      "regex": [
        "(?:materiale\\s+struttura|struttura)[:\\s]+(?P<value>[A-Za-zÀ-ÿ0-9\\s\\-_/]+)"
      ],
      "normalizers": [
        "strip",
        "collapse_spaces",
        "lower"
      ]
    },
    {
      "property_id": "dimensione_larghezza",
      "regex": [
        "(?:larghezza|dimensione\\s+larghezza|l\\.)[:\\s]+(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>mm|millimetri|cm|centimetri|m|metri)"
      ],
      "normalizers": [
        "to_mm"
      ]
    },
    {
      "property_id": "dimensione_altezza",
      "regex": [
        "(?:altezza|dimensione\\s+altezza|h\\.)[:\\s]+(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>mm|millimetri|cm|centimetri|m|metri)"
      ],
      "normalizers": [
        "to_mm"
      ]
    },
    {
      "property_id": "trasmittanza_termica",
      "regex": [
        "(?:trasmittanza\\s+termica|u\\s*-?value)[:\\s]+(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>w/m²k|w/m2k|w/mk)?",
        "(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>w/m²k|w/m2k|w/mk)"
      ],
      "normalizers": [
        "to_number"
      ]
    },
    {
      "property_id": "isolamento_acustico_db",
      "regex": [
        "(?:isolamento\\s+acustico|abbattimento\\s+acustico|potere\\s+fonoisolante)[:\\s]+(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>dB|db|decibel)?",
        "(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>dB|db)"
      ],
      "normalizers": [
        "to_number"
      ]
    },
    {
      "property_id": "spessore_pannello_mm",
      "regex": [
        "(?:spessore\\s+pannello|pannello\\s+spessore)[:\\s]+(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>mm|millimetri|cm|centimetri|m|metri)"
      ],
      "normalizers": [
        "to_mm"
      ]
    },
    {
      "property_id": "coefficiente_fonoassorbimento",
      "regex": [
        "(?:coefficiente\\s+fonoassorbimento|alpha\\s*w)[:\\s]+(?P<value>\\d+(?:[.,]\\d+)?)"
      ],
      "normalizers": [
        "to_number"
      ]
    },
    {
      "property_id": "dimensione_lunghezza",
      "regex": [
        "(?:lunghezza|dimensione\\s+lunghezza|l\\.)[:\\s]+(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>mm|millimetri|cm|centimetri|m|metri)"
      ],
      "normalizers": [
        "to_mm"
      ]
    },
    {
      "property_id": "tipologia_installazione",
      "regex": [
        "(?:tipologia\\s+installazione|installazione)[:\\s]+(?P<value>[^\\n;,]+)"
      ],
      "normalizers": [
        "strip",
        "collapse_spaces",
        "lower"
      ]
    },
    {
      "property_id": "portata_l_min",
      "regex": [
        "(?:portata|flusso)[:\\s]+(?P<value>\\d+(?:[.,]\\d+)?)\\s*(?P<unit>l/min|lpm|litri/min(?:uto)?)"
      ],
      "normalizers": [
        "to_number"
      ]
    },
    {
      "property_id": "essenza",
      "regex": [
        "essenza[:\\s]+(?P<value>[A-Za-zÀ-ÿ\\s\\-]+)"
      ],
      "normalizers": [
        "strip",
        "collapse_spaces",
        "lower"
      ]
    },
    {
      "property_id": "tipologia_apertura",
      "regex": [
        "(?:tipologia\\s+apertura|apertura)[:\\s]+(?P<value>[^\\n;,]+)"
      ],
      "normalizers": [
        "strip",
        "collapse_spaces",
        "lower"
      ]
    }
  ]
}